/* ===============================
   Global Reset / Base
================================ */
:root {
    color-scheme: dark;
    --header-offset: 92px;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    height: 100%;
    scroll-behavior: smooth;
}

body {
    min-height: 100%;
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color: rgba(255, 255, 255, 0.92);
    background: #070b12;

    /* Only hide horizontal overflow at the page level */
    overflow-x: hidden;
}

/* Make sure Angular root never constrains width */
app-root {
    display: block;
    width: 100%;
    min-width: 0;
}

/* Anchor offset for sticky header */
section[id],
[id] {
    scroll-margin-top: 26px;
}

/* ===============================
   App Background Layer
   (NO negative inset to avoid mobile overflow)
================================ */
.app-bg {
    min-height: 100vh;
    position: relative;
    isolation: isolate;
}

/* Continuous gradient background */
.app-bg::before {
    content: "";
    position: fixed;
    inset: 0;
    /* IMPORTANT: avoid negative inset on mobile */
    z-index: 0;
    pointer-events: none;

    background:
        radial-gradient(900px 650px at 18% 20%, rgba(80, 160, 255, 0.22), transparent 62%),
        radial-gradient(900px 650px at 85% 25%, rgba(200, 120, 255, 0.18), transparent 64%),
        radial-gradient(1000px 720px at 55% 90%, rgba(50, 220, 190, 0.12), transparent 66%),
        linear-gradient(180deg, #0b1220, #070b12);

    filter: blur(16px);
    transform: translate3d(0, 0, 0) scale(1.06);
    /* coverage without overflow */
    will-change: transform;
    backface-visibility: hidden;

    animation: bgFloat 22s ease-in-out infinite alternate;
}

/* Subtle noise (banding control) */
.app-bg::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;

    background:
        radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.020), transparent 35%),
        radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.014), transparent 38%),
        radial-gradient(circle at 40% 85%, rgba(255, 255, 255, 0.012), transparent 40%);
    opacity: 0.32;
    mix-blend-mode: overlay;
}

/* Content above background */
.app-frame {
    position: relative;
    z-index: 1;
    width: 100%;
    min-width: 0;
}

/* Background drift */
@keyframes bgFloat {
    0% {
        transform: translate3d(-12px, -10px, 0) scale(1.06);
    }

    100% {
        transform: translate3d(14px, 10px, 0) scale(1.06);
    }
}

/* ===============================
   Mobile Stabilization
================================ */
@media (max-width: 640px) {
    :root {
        --header-offset: 96px;
    }

    /* Reduce paint cost + avoid mobile glitches */
    .app-bg::before {
        filter: blur(12px);
        animation: none;
        transform: translate3d(0, 0, 0) scale(1.06);
    }

    .app-bg::after {
        opacity: 0.26;
    }

    /* Better viewport unit for mobile browsers */
    .app-bg {
        min-height: 100dvh;
    }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .app-bg::before {
        animation: none;
    }
}

/* Prevent media/form controls from forcing overflow */
img,
svg,
video,
canvas,
input,
textarea,
select,
button {
    max-width: 100%;
}

input,
textarea,
select {
    width: 100%;
    min-width: 0;
}

/* ===============================
   HARD MOBILE OVERFLOW FIX
   Put this at the VERY END of styles.scss
================================ */

/* 1) Never allow horizontal scrolling */
html,
body {
    width: 100%;
    max-width: 100%;
}

/* 2) Force app wrappers to not exceed viewport */
app-root,
.app-bg,
.app-frame {
    width: 100%;
    max-width: 100%;
    min-width: 0;
}

/* 3) Fixed pseudo backgrounds can still create overflow on mobile.
      Force them to not exceed viewport bounds. */
.app-bg::before,
.app-bg::after {
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
    inset: 0 !important;
    max-width: 100vw !important;
}

/* 5) Long text/links must wrap on mobile (footer is a common culprit) */
a,
p,
span,
li,
div {
    overflow-wrap: anywhere;
    word-break: break-word;
}

/* 6) Ensure form controls never overflow */
input,
textarea,
select,
button {
    max-width: 100%;
    min-width: 0;
}